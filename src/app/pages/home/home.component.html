<!-- If data loaded then It will show -->
<main *ngIf="data">
    <!-- image slider -->
    <ngx-slick-carousel [config]="slider_image" id="image-slider">
        <div ngxSlickItem *ngFor="let image of data.slider_images" class="slide">
            <img [src]="image" alt="slider_images" width="100%">
        </div>
    </ngx-slick-carousel>

    <!-- overview -->
    <div id="overview">
        <h1>
            Overview
        </h1>
        <p>
            {{data.overview}}
        </p>
    </div>


    <!-- notice -->
    <div id="notice">
        <h1>
            Notice
        </h1>
        <!-- <ngx-slick-carousel [config]="slideConfig">
            <div ngxSlickItem *ngFor="let notice of data.notice" class="slide">
                <img [src]="notice.img" alt="notice" width="100%">
                <p>{{notice.details}}</p>
            </div>
        </ngx-slick-carousel> -->
        <button mat-raised-button id="photos" routerLink="/photos">Upload Photo(s) to this site</button>
        <style>
            #photos {
                display: flex;
                padding: 1rem;
                margin: auto;
                background-color: aquamarine;

            }

            #photos:hover {
                zoom: 200%;
                font-weight: 800;
            }
        </style>
    </div>

    <!-- featured gallery -->
    <div id="featured-gallery">
        <h1>
            Featured Gallery
        </h1>
        <ngx-slick-carousel [config]="slideConfig">
            <div ngxSlickItem *ngFor="let image of data.featured_gallery" class="slide">
                <img [src]="image" alt="galllery" width="100%">
            </div>
        </ngx-slick-carousel>
    </div>

    <!-- events -->
    <div id="events" class="card-wrapper">
        <h1>
            Events
        </h1>
        <mat-card *ngFor="let event of data.events">
            <mat-card-content>
                <img mat-card-image alt="events-photo" [src]="event.img">
                <p>
                    <strong>Details: </strong>{{event.details}}
                </p>
            </mat-card-content>
        </mat-card>

    </div>

    <!-- school calendar -->
    <div id="school-calendar" *ngIf="false">
        <h1>
            School Calendar
        </h1>
    </div>

    <!-- Playback -->
    <div id="playback" *ngIf="false">
        <h1>
            Playback
        </h1>
    </div>

    <!-- admission -->
    <div id="admission" *ngIf="false">
        <h1>
            Admission
        </h1>

        <!-- admission procedure -->
        <h2>
            Admission Procedure
        </h2>

        <!-- forms download -->
        <h2>
            Forms Download
        </h2>

        <!-- fee structure -->
        <h2>
            Fee Structure
        </h2>

    </div>

    <!-- academics -->
    <div id="academics">
        <h1>
            Academics
        </h1>

        <!-- subject offered -->
        <div id="subject-offered">
            <h2>
                Subject Offered
            </h2>
            <table [style.margin]="(tableWidth === 'min-content')?'auto -3rem':'auto'">
                <tr>
                    <th>Class V</th>
                    <th>Class VI</th>
                    <th>Class VII &amp; VIII</th>
                    <th>Class IX &amp; X</th>
                    <th>Class XI &amp; XII</th>
                </tr>
                <tr *ngFor="let x of data.subject_offered.xi_xii; index as i">
                    <td>
                        {{data.subject_offered.v[i]}}
                    </td>
                    <td>
                        {{data.subject_offered.vi[i]}}
                    </td>
                    <td>
                        {{data.subject_offered.vii_viii[i]}}
                    </td>
                    <td>
                        {{data.subject_offered.ix_x[i]}}
                    </td>
                    <td>
                        {{data.subject_offered.xi_xii[i]}}
                    </td>
                </tr>
            </table>
        </div>

        <!-- school timings -->
        <div id="school-timings">
            <h2>
                School Timings
            </h2>
            <mat-table [dataSource]="data.school_timing" [style.width]="tableWidth"
                [style.margin-left]="(tableWidth === 'min-content')?'-1rem':'auto'">
                <!-- Classes -->
                <ng-container matColumnDef="i">
                    <th mat-header-cell *matHeaderCellDef> Class </th>
                    <td mat-cell *matCellDef="let element"> {{element.class}} </td>
                </ng-container>

                <!-- General Assembly -->
                <ng-container matColumnDef="ii">
                    <th mat-header-cell *matHeaderCellDef> General Assembly </th>
                    <td mat-cell *matCellDef="let element"> {{element.i}} </td>
                </ng-container>

                <!-- Commencement of classroom teaching -->
                <ng-container matColumnDef="iii">
                    <th mat-header-cell *matHeaderCellDef> Commencement of classroom teaching </th>
                    <td mat-cell *matCellDef="let element"> {{element.ii}} </td>
                </ng-container>

                <!-- Mid-Day Meal/Recess -->
                <ng-container matColumnDef="iv">
                    <th mat-header-cell *matHeaderCellDef> Mid-Day Meal/Recess </th>
                    <td mat-cell *matCellDef="let element"> {{element.iii}} </td>
                </ng-container>

                <!-- End of the Day -->
                <ng-container matColumnDef="v">
                    <th mat-header-cell *matHeaderCellDef> End of the Day </th>
                    <td mat-cell *matCellDef="let element"> {{element.iv}} </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </mat-table>
        </div>

        <!-- rules & regulations -->
        <div id="rules-regulations">
            <h2>
                Rules &amp; Regulations
            </h2>
            <ol>
                <li *ngFor="let rules of data.rules_regulations">{{rules}}</li>
            </ol>
        </div>

        <!-- alumni -->
        <div id="alumni" *ngIf="false">
            <h2>
                Alumni
            </h2>
            <ngx-slick-carousel [config]="slideConfig">
                <div ngxSlickItem *ngFor="let alumni of data.alumni" class="slide">
                    <img [src]="alumni.img" alt="Alumni" width="100%">
                    <p>
                        <b>{{alumni.name}}</b>
                    </p>
                </div>
            </ngx-slick-carousel>
        </div>

    </div>


    <!-- campus -->
    <div id="campus" class="card-wrapper">
        <h1>
            Campus
        </h1>
        <mat-card *ngFor="let campus of data.campus">
            <img mat-card-image alt="campus-photo" [src]="campus.img">
            <mat-card-content>
                <strong>{{campus.details}}</strong>
            </mat-card-content>
        </mat-card>
    </div>

    <!-- teachers -->
    <div id="teachers" *ngIf="false">
        <h1>
            Teachers
        </h1>
        <ngx-slick-carousel [config]="slideConfig">
            <div ngxSlickItem *ngFor="let teacher of data.teachers" class="slide">
                <img [src]="teacher.img" alt="Teachers" width="100%">
                <p>
                    <b>Name</b> : {{teacher.name}}
                    <br>
                    <b>Subject</b> : {{teacher.subject}}
                </p>
            </div>
        </ngx-slick-carousel>
    </div>

    <!-- managing committee -->
    <div id="managing-committee" *ngIf="false">
        <h1>
            Managing Committee
        </h1>
        <ngx-slick-carousel [config]="slideConfig">
            <div ngxSlickItem *ngFor="let mc of data.managing_committee" class="slide">
                <img [src]="mc.img" alt="Manageing Committee" width="100%">
                <p>
                    <b>Name</b> : {{mc.name}}
                    <br>
                    <b>Topic</b> : {{mc.topic}}
                </p>
            </div>
        </ngx-slick-carousel>
    </div>


    <!-- contact us -->
    <div id="contact-us">
        <h1>
            Contact Us
        </h1>
        <mat-card>
            <mat-card-content *ngFor="let contact of data.contact_us">
                <b>{{contact.type}}</b> : <i>{{contact.details}}</i>
            </mat-card-content>
        </mat-card>
    </div>

    <!-- school map -->
    <div id="school-map">
        <h1>
            School Map
        </h1>
        <iframe id="school-map"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3653.650151156592!2d88.30057361445466!3d23.688465984619956!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39f90dbdd812f39b%3A0x58e303315ad25b5!2sDebagram%20Shivram%20Anandamayee%20Vidyapith!5e0!3m2!1sen!2sin!4v1660596540461!5m2!1sen!2sin"
            width="100%" height="350" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>

    <!-- Feedback Form -->
    <div id="feedback" *ngIf="!feedback">
        <h1>
            Feedback Form
        </h1>
        <mat-stepper linear orientation="vertical" #stepper>
            <mat-step [stepControl]="firstFormGroup">
                <form [formGroup]="firstFormGroup">
                    <ng-template matStepLabel>Fill out your name</ng-template>
                    <mat-form-field appearance="fill">
                        <mat-label>Name</mat-label>
                        <input matInput formControlName="firstCtrl" placeholder="Last name, First name" required>
                    </mat-form-field>
                    <div>
                        <button mat-button matStepperNext>Next</button>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="secondFormGroup">
                <form [formGroup]="secondFormGroup">
                    <ng-template matStepLabel>Fill out your email address</ng-template>
                    <mat-form-field appearance="fill">
                        <mat-label>Email Address</mat-label>
                        <input matInput type="email" formControlName="secondCtrl" placeholder="Ex. abc@xyz.com"
                            required>
                    </mat-form-field>
                    <div>
                        <button mat-button matStepperPrevious>Back</button>
                        <button mat-button matStepperNext>Next</button>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="thirdFormGroup">
                <form [formGroup]="thirdFormGroup">
                    <ng-template matStepLabel>Give your feedback</ng-template>
                    <mat-form-field appearance="fill">
                        <mat-label>Feedback</mat-label>
                        <textarea matInput minlength="5" formControlName="thirdCtrl"
                            placeholder="Please tell how do you feel about this site" required></textarea>
                    </mat-form-field>
                    <div>
                        <button mat-button matStepperPrevious>Back</button>
                        <button mat-button matStepperNext>Next</button>
                    </div>
                </form>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Done</ng-template>
                <p>You are now done.</p>
                <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button (click)="submitFeedback(stepper);">Submit</button>
                </div>
            </mat-step>
        </mat-stepper>
    </div>
</main>

<!-- If data not loaded then it will show -->
<app-data-loading *ngIf="!data"></app-data-loading>